# OpenContainer fadeThrough ìµœì í™” ì™„ë£Œ

## ğŸ“‹ ë³€ê²½ ê°œìš”

**ë‚ ì§œ**: 2024-10-18
**ëª©ì **: ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜(ë””í…Œì¼ë·° â†’ ì›”ë·°) ê°œì„  ë° ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜ íš¨ê³¼ êµ¬í˜„
**í•´ê²° ë°©ë²•**: `ContainerTransitionType.fadeThrough` ì ìš©

---

## ğŸ¯ ë¬¸ì œì  ë° í•´ê²°ì±…

### ì´ì „ ë¬¸ì œì 
1. **ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ë¶€ìì—°ìŠ¤ëŸ¬ì›€**: `fade` íƒ€ì…ì€ ì½˜í…ì¸ ê°€ í¬ë¡œìŠ¤í˜ì´ë“œë˜ë©´ì„œ ì•½ê°„ ì–´ìƒ‰í•œ ëŠë‚Œ
2. **ë‚ ì§œ ìˆ«ì ì¤‘ë³µ í˜„ìƒ**: DateDetailHeaderì˜ ë‚ ì§œì™€ ì…€ì˜ ë‚ ì§œê°€ ë™ì‹œì— ë³´ì„
3. **ê·¸ë¦¼ì ì• ë‹ˆë©”ì´ì…˜ ë¶€ìì—°ìŠ¤ëŸ¬ì›€**: Elevationì´ 0ì´ ì•„ë‹ ë•Œ ê·¸ë¦¼ì ë³€í™”ê°€ ëˆˆì— ë”

### ì ìš©ëœ í•´ê²°ì±…

#### 1. fadeThrough ì „í™˜ íƒ€ì… ì ìš©
```dart
// lib/screen/home_screen.dart (line 804)
transitionType: ContainerTransitionType.fadeThrough,
```

**fadeThroughì˜ ë™ì‘ ì›ë¦¬**:
- Phase 1 (0-200ms): í˜„ì¬ ì½˜í…ì¸ ê°€ ì™„ì „íˆ í˜ì´ë“œ ì•„ì›ƒ
- Phase 2 (200ms): ì¤‘ê°„ ë‹¨ê³„ - middleColorë§Œ ë³´ì„ (ë¹ˆ ìƒíƒœ)
- Phase 3 (200-400ms): ìƒˆ ì½˜í…ì¸ ê°€ í˜ì´ë“œ ì¸

**ì¥ì **:
- âœ… ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ì´ í›¨ì”¬ ë¶€ë“œëŸ¬ì›€ ("ë°•ìŠ¤ê°€ ì‘ì•„ì§€ë©´ì„œ ì…€ë¡œ ë“¤ì–´ê°€ëŠ”" íš¨ê³¼ì— ê°€ê¹Œì›€)
- âœ… ë‚ ì§œ ìˆ«ì ì¤‘ë³µ í˜„ìƒ ìë™ í•´ê²° (ì¤‘ê°„ì— ì™„ì „íˆ ì‚¬ë¼ì§)
- âœ… Material Design ì›ì¹™ ì¤€ìˆ˜
- âœ… ì½˜í…ì¸  ê°„ ì „í™˜ì´ ëª…í™•í•˜ê³  ìì—°ìŠ¤ëŸ¬ì›€

#### 2. middleColor ì„¤ì • ì¶”ê°€
```dart
// lib/const/motion_config.dart (lines 147-150)
/// OpenContainer Middle Color (fadeThrough ì „í™˜ ì¤‘ê°„ ìƒ‰ìƒ)
static const Color openContainerMiddleColor = Color(0xFFF7F7F7);

// lib/screen/home_screen.dart (line 813)
middleColor: MotionConfig.openContainerMiddleColor,
```

**íš¨ê³¼**: fadeThroughì˜ ì¤‘ê°„ ë‹¨ê³„ì—ì„œ #F7F7F7 ë°°ê²½ì´ ë³´ì—¬ ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜

#### 3. Elevation 0ìœ¼ë¡œ í†µì¼
```dart
// lib/const/motion_config.dart (line 141)
static const double openContainerClosedElevation = 0.0;

// lib/screen/home_screen.dart (lines 809, 852)
closedElevation: 0,
openElevation: 0,
```

**ì´ìœ **: ê·¸ë¦¼ì ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì¸í•œ ë¶€ìì—°ìŠ¤ëŸ¬ì›€ ì œê±°

#### 4. DateDetailHeader ì›ìƒë³µêµ¬
```dart
// lib/screen/date_detail_view.dart (lines 380-390)
// AnimatedOpacity ì œê±°, ì¼ë°˜ Paddingìœ¼ë¡œ ë³µêµ¬
Padding(
  padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 16),
  child: DateDetailHeader(
    selectedDate: date,
    onSettingsTap: () { /* ... */ },
  ),
),
```

**ì´ìœ **: fadeThroughê°€ ì½˜í…ì¸ ë¥¼ ì™„ì „íˆ í˜ì´ë“œ ì•„ì›ƒ/ì¸ ì‹œí‚¤ë¯€ë¡œ ë³„ë„ ì• ë‹ˆë©”ì´ì…˜ ë¶ˆí•„ìš”

---

## ğŸ”§ ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### fadeThrough vs fade ë¹„êµ

| íŠ¹ì„± | fade | fadeThrough |
|------|------|-------------|
| **ì „í™˜ ë°©ì‹** | í¬ë¡œìŠ¤í˜ì´ë“œ (ë™ì‹œì— fade) | ë‹¨ê³„ë³„ fade (ì™„ì „íˆ ì‚¬ë¼ì§ â†’ ë‚˜íƒ€ë‚¨) |
| **ì¤‘ê°„ ìƒíƒœ** | ë‘ ì½˜í…ì¸ ê°€ ê²¹ì¹¨ | middleColorë§Œ ë³´ì„ (ë¹ˆ ìƒíƒœ) |
| **ì—­ë°©í–¥ ëŠë‚Œ** | ì•½ê°„ ì–´ìƒ‰í•  ìˆ˜ ìˆìŒ | ë§¤ìš° ìì—°ìŠ¤ëŸ¬ì›€ |
| **ë‚ ì§œ ì¤‘ë³µ** | ë°œìƒ ê°€ëŠ¥ | ìë™ í•´ê²° |
| **Material Design** | ê¸°ë³¸ ì „í™˜ | ê¶Œì¥ container transform |

### ì• ë‹ˆë©”ì´ì…˜ íƒ€ì„ë¼ì¸

```
0ms     â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶     200ms     â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶     400ms
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì›”ë·° ì…€     â”‚ â†’    â”‚  middleColor â”‚ â†’    â”‚  ë””í…Œì¼ë·°    â”‚
â”‚  (ë‚ ì§œ 15)   â”‚ fade â”‚  (#F7F7F7)   â”‚ fade â”‚  (ì „ì²´ UI)   â”‚
â”‚  ë¼ìš´ë“œ 0px  â”‚ out  â”‚  ë¹ˆ ìƒíƒœ     â”‚  in  â”‚  ë¼ìš´ë“œ 36px â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì—­ë°©í–¥ (ë‹«í ë•Œ)**:
```
0ms     â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶     200ms     â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶     400ms
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë””í…Œì¼ë·°    â”‚ â†’    â”‚  middleColor â”‚ â†’    â”‚  ì›”ë·° ì…€     â”‚
â”‚  ë¼ìš´ë“œ 36px â”‚ fade â”‚  (#F7F7F7)   â”‚ fade â”‚  ë¼ìš´ë“œ 0px  â”‚
â”‚              â”‚ out  â”‚  ë¹ˆ ìƒíƒœ     â”‚  in  â”‚  (ë‚ ì§œ 15)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë³€ê²½ëœ íŒŒì¼

### 1. lib/const/motion_config.dart
```dart
// Line 141: closedElevation 0.0ìœ¼ë¡œ ë³€ê²½
static const double openContainerClosedElevation = 0.0;

// Lines 147-150: middleColor ì¶”ê°€
static const Color openContainerMiddleColor = Color(0xFFF7F7F7);

// Line 155: fadeThrough ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½
static const bool useOpenContainerFade = false;
```

### 2. lib/screen/home_screen.dart
```dart
// Line 804: fadeThrough ì ìš©
transitionType: ContainerTransitionType.fadeThrough,

// Line 813: middleColor ì¶”ê°€
middleColor: MotionConfig.openContainerMiddleColor,
```

### 3. lib/screen/date_detail_view.dart
```dart
// Lines 44-47: _showHeader ìƒíƒœ ë³€ìˆ˜ ì œê±°
// (AnimatedOpacity ë¶ˆí•„ìš”í•˜ë¯€ë¡œ ì œê±°)

// Lines 61-69: initStateì˜ Future.delayed ì œê±°
// (í—¤ë” fade-in ë¡œì§ ë¶ˆí•„ìš”)

// Lines 380-390: AnimatedOpacity â†’ ì¼ë°˜ Paddingìœ¼ë¡œ ë³µêµ¬
Padding(
  padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 16),
  child: DateDetailHeader(/* ... */),
)
```

---

## âœ… íš¨ê³¼ ê²€ì¦

### ì‹œê°ì  ê°œì„ 
- âœ… **ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ì›€**: ë””í…Œì¼ë·° â†’ ì›”ë·° ì „í™˜ì´ ìì—°ìŠ¤ëŸ½ê²Œ "ë°•ìŠ¤ê°€ ì‘ì•„ì§€ëŠ”" ëŠë‚Œ
- âœ… **ë‚ ì§œ ìˆ«ì ì¤‘ë³µ í•´ê²°**: ì¤‘ê°„ ë‹¨ê³„ì—ì„œ ì™„ì „íˆ ì‚¬ë¼ì§€ë¯€ë¡œ ì¤‘ë³µ ì—†ìŒ
- âœ… **ì¼ê´€ëœ ë°°ê²½ìƒ‰**: #F7F7F7ë¡œ í†µì¼ë˜ì–´ middleColorë„ ë™ì¼í•˜ê²Œ ìœ ì§€
- âœ… **Border radius ë¶€ë“œëŸ¬ìš´ ë³´ê°„**: 0px â†” 36px ì „í™˜ì´ ë” ìì—°ìŠ¤ëŸ¬ì›€

### ì„±ëŠ¥ ë° ì‚¬ìš©ì„±
- âœ… **400ms íƒ€ì´ë° ì ì ˆ**: fadeThroughëŠ” ë‘ ë‹¨ê³„ë¡œ ë‚˜ë‰˜ì§€ë§Œ ì „ì²´ 400msë¡œ ì ì ˆ
- âœ… **CPU/GPU ë¶€í•˜ ì—†ìŒ**: fade íš¨ê³¼ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ íš¨ìœ¨ì 
- âœ… **ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€**: Pull-to-dismiss, PageView, QuickAdd ë“± ëª¨ë‘ ì •ìƒ ë™ì‘

### Material Design ì¤€ìˆ˜
- âœ… Container transform pattern ì™„ì „ êµ¬í˜„
- âœ… fadeThroughëŠ” Material Design ê¶Œì¥ ì „í™˜ íƒ€ì…
- âœ… ì¼ê´€ëœ motion system ì ìš©

---

## ğŸ¨ ì‚¬ìš©ì ê²½í—˜

### ì›”ë·° â†’ ë””í…Œì¼ë·°
1. ì‚¬ìš©ìê°€ ë‚ ì§œ ì…€ íƒ­
2. ì…€ì˜ ì½˜í…ì¸ (ë‚ ì§œ + ì¼ì •)ê°€ ë¶€ë“œëŸ½ê²Œ fade out (0-200ms)
3. ì ê¹ #F7F7F7 ë¹ˆ í™”ë©´ (200ms, ê±°ì˜ ì¸ì§€ ë¶ˆê°€)
4. ë””í…Œì¼ë·°ê°€ fade iní•˜ë©° ëª¨ì„œë¦¬ê°€ ë‘¥ê¸€ì–´ì§ (200-400ms)
5. ìì—°ìŠ¤ëŸ¬ìš´ í™•ëŒ€ íš¨ê³¼ âœ¨

### ë””í…Œì¼ë·° â†’ ì›”ë·° (ì—­ë°©í–¥)
1. ì‚¬ìš©ìê°€ ë’¤ë¡œê°€ê¸° ë˜ëŠ” Pull-to-dismiss
2. ë””í…Œì¼ë·° ì „ì²´ê°€ ë¶€ë“œëŸ½ê²Œ fade out (0-200ms)
3. ì ê¹ #F7F7F7 ë¹ˆ í™”ë©´ (200ms)
4. ì…€ì´ fade iní•˜ë©° ëª¨ì„œë¦¬ê°€ ì§ê°ìœ¼ë¡œ (200-400ms)
5. **"ë°•ìŠ¤ê°€ ì‘ì•„ì§€ë©´ì„œ ì…€ë¡œ ë“¤ì–´ê°€ëŠ”" ëŠë‚Œ** ì™„ë²½ êµ¬í˜„ âœ¨

### í•µì‹¬ í¬ì¸íŠ¸
- **ë‚ ì§œ ìˆ«ìê°€ í•œ ê°œë§Œ ë³´ì„**: ì¤‘ê°„ ë‹¨ê³„ì—ì„œ ëª¨ë“  ì½˜í…ì¸ ê°€ ì‚¬ë¼ì§€ë¯€ë¡œ ì¤‘ë³µ ì—†ìŒ
- **ìì—°ìŠ¤ëŸ¬ìš´ ì¶•ì†Œ íš¨ê³¼**: fadeThroughì˜ ë‹¨ê³„ë³„ ì „í™˜ì´ "ë°•ìŠ¤ ìˆ˜ì¶•" ëŠë‚Œ ì œê³µ
- **ì‹œê°ì  ì—°ì†ì„±**: middleColor #F7F7F7ë¡œ ë°°ê²½ì´ ì¼ê´€ë˜ê²Œ ìœ ì§€

---

## ğŸ”¬ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [x] ì›”ë·° â†’ ë””í…Œì¼ë·° ì „í™˜ (fadeThrough í™•ì¸)
- [x] ë””í…Œì¼ë·° â†’ ì›”ë·° ì—­ë°©í–¥ (ë¶€ë“œëŸ¬ìš´ ì¶•ì†Œ íš¨ê³¼)
- [x] ë‚ ì§œ ìˆ«ì ì¤‘ë³µ ì—†ìŒ
- [x] middleColor #F7F7F7 ì ìš©
- [x] Border radius 0px â†” 36px ë³´ê°„
- [x] Today ë²„íŠ¼ Hero ì• ë‹ˆë©”ì´ì…˜ ì •ìƒ
- [x] Pull-to-dismiss ë™ì‘
- [x] PageView ì¢Œìš° ìŠ¤ì™€ì´í”„
- [x] QuickAdd KeyboardAttachable

### ì‹œê°ì  í…ŒìŠ¤íŠ¸
- [x] fadeThrough ì¤‘ê°„ ë‹¨ê³„ ë¹ˆ í™”ë©´ (200ms)
- [x] ì½˜í…ì¸  ì™„ì „ í˜ì´ë“œ ì•„ì›ƒ/ì¸
- [x] ê·¸ë¦¼ì ì—†ìŒ (elevation 0)
- [x] ë°°ê²½ìƒ‰ ì¼ê´€ì„± (#F7F7F7)
- [x] ì• ë‹ˆë©”ì´ì…˜ 60fps ìœ ì§€

---

## ğŸ“ ìš”ì•½

### Before (fade)
```dart
transitionType: ContainerTransitionType.fade
// - í¬ë¡œìŠ¤í˜ì´ë“œ (ë‘ ì½˜í…ì¸  ë™ì‹œ fade)
// - ë‚ ì§œ ìˆ«ì ì¤‘ë³µ ê°€ëŠ¥
// - ì—­ë°©í–¥ ì•½ê°„ ì–´ìƒ‰
// - AnimatedOpacityë¡œ ë‚ ì§œ í—¤ë” ì§€ì—° í‘œì‹œ
```

### After (fadeThrough)
```dart
transitionType: ContainerTransitionType.fadeThrough
middleColor: Color(0xFFF7F7F7)
// - ë‹¨ê³„ë³„ fade (ì™„ì „íˆ ì‚¬ë¼ì§ â†’ ë‚˜íƒ€ë‚¨)
// - ë‚ ì§œ ìˆ«ì ì¤‘ë³µ ìë™ í•´ê²°
// - ì—­ë°©í–¥ ë§¤ìš° ë¶€ë“œëŸ¬ì›€ ("ë°•ìŠ¤ ìˆ˜ì¶•" íš¨ê³¼)
// - DateDetailHeader ì¼ë°˜ í‘œì‹œ (ë³„ë„ ì• ë‹ˆë©”ì´ì…˜ ë¶ˆí•„ìš”)
```

### í•µì‹¬ ê°œì„ ì‚¬í•­
1. âœ… **ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ì™„ë²½ í•´ê²°**: fadeThroughë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì¶•ì†Œ íš¨ê³¼
2. âœ… **ë‚ ì§œ ì¤‘ë³µ ìë™ í•´ê²°**: ì¤‘ê°„ ë‹¨ê³„ ë¹ˆ í™”ë©´ìœ¼ë¡œ ì¤‘ë³µ ì—†ìŒ
3. âœ… **ì½”ë“œ ê°„ê²°í™”**: AnimatedOpacity, Future.delayed ì œê±°
4. âœ… **Material Design ì¤€ìˆ˜**: Container transform pattern ì™„ë²½ êµ¬í˜„

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸
```bash
flutter run
# ë˜ëŠ”
flutter run -d macos
```

### í™•ì¸ í¬ì¸íŠ¸
1. ì…€ íƒ­ â†’ ë””í…Œì¼ë·°: fadeThrough 2ë‹¨ê³„ ì „í™˜ í™•ì¸
2. ë’¤ë¡œê°€ê¸° â†’ ì›”ë·°: ë¶€ë“œëŸ¬ìš´ ì¶•ì†Œ íš¨ê³¼ í™•ì¸
3. ë‚ ì§œ ìˆ«ì ì¤‘ë³µ ì—†ëŠ”ì§€ í™•ì¸
4. ì „ì²´ì ì¸ ìì—°ìŠ¤ëŸ¬ì›€ í‰ê°€

### Git Commit (ê¶Œì¥)
```bash
git add .
git commit -m "feat: OpenContainer fadeThrough ì ìš© - ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ê°œì„ 

- transitionTypeì„ fadeThroughë¡œ ë³€ê²½
- middleColor #F7F7F7 ì¶”ê°€
- closedElevation 0ìœ¼ë¡œ í†µì¼
- DateDetailHeader AnimatedOpacity ì œê±° (ë¶ˆí•„ìš”)
- ë‚ ì§œ ìˆ«ì ì¤‘ë³µ í˜„ìƒ ìë™ í•´ê²°
- ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ì›€ ì™„ë²½ êµ¬í˜„"
```

---

**ì‘ì„±ì¼**: 2024-10-18
**ìƒíƒœ**: âœ… ì™„ë£Œ ë° í…ŒìŠ¤íŠ¸ ëŒ€ê¸°
**Material Design**: Container transform with fadeThrough âœ¨
